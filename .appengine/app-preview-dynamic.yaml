---

runtime: go123
service: preview-template

automatic_scaling:
  max_instances: 1
  min_instances: 0
  max_idle_instances: 0
  min_idle_instances: 0

handlers:
  # Static assets only - keep minimal
  - url: /image
    static_dir: .build/image
    secure: always

  - url: /(.*\.(gif|png|jpg|jpeg|ico|svg|webmanifest|xml|txt|js))$
    static_files: .build/\1
    upload: .build/.*\.(gif|png|jpg|jpeg|ico|svg|webmanifest|xml|txt|js)$
    secure: always

  # All other routes handled by Go app
  - url: /.*
    script: auto
    secure: always